Version 4
SHEET 1 2092 1648
WIRE -144 368 -192 368
WIRE -32 368 -144 368
WIRE 128 368 32 368
WIRE 192 368 128 368
WIRE 384 368 272 368
WIRE 464 368 384 368
WIRE 640 368 464 368
WIRE 1040 368 896 368
WIRE 1152 368 1040 368
WIRE 1280 368 1152 368
WIRE 1424 368 1280 368
WIRE 1488 368 1424 368
WIRE 1040 416 1040 368
WIRE 1152 416 1152 368
WIRE 1280 416 1280 368
WIRE 1424 416 1424 368
WIRE 384 432 384 368
WIRE 1152 512 1152 480
WIRE 1280 512 1280 480
WIRE 1424 512 1424 496
WIRE 384 528 384 496
WIRE 768 528 768 464
WIRE 928 528 768 528
WIRE 1040 528 1040 496
WIRE 1040 528 928 528
WIRE -192 544 -192 368
WIRE 768 560 768 528
WIRE -192 656 -192 624
WIRE 768 656 768 640
FLAG -192 656 0
FLAG 384 528 0
FLAG 1488 368 OUT
FLAG 768 656 0
FLAG 1152 512 0
FLAG 1424 512 0
FLAG 464 368 IN
FLAG -144 368 AC
FLAG 928 528 ADJ
FLAG 128 368 PRE
FLAG 1280 512 0
SYMBOL voltage -192 528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 {AC_PEAK} 60)
SYMBOL cap 368 432 R0
SYMATTR InstName C1
SYMATTR Value 2200µF
SYMATTR SpiceLine V=50V Irms=3.375 Rser=60m
SYMBOL res 1024 400 R0
SYMATTR InstName R1
SYMATTR Value 125
SYMBOL res 752 544 R0
SYMATTR InstName R2
SYMATTR Value {(VOUT * 100) - 125}
SYMBOL cap 1136 416 R0
SYMATTR InstName C3
SYMATTR Value 100µF
SYMBOL res 1408 400 R0
SYMATTR InstName RL1
SYMATTR Value {VOUT / IOUT}
SYMBOL res 176 352 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RIN
SYMATTR Value {RIN}
SYMBOL diode -32 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL diode 1264 480 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4007
SYMBOL PowerProducts\\LT317A 768 368 R0
SYMATTR InstName U1
TEXT -56 424 Left 2 ;1000V 1A
TEXT -208 736 Left 2 !.tran 1s
TEXT -208 768 Left 2 !.param AC_RMS=27.5V
TEXT -208 800 Left 2 !.param AC_PEAK={AC_RMS * SQRT(2)}
TEXT -208 832 Left 2 !.param VOUT=15V
TEXT -208 864 Left 2 !.param IOUT=150mA
TEXT -208 896 Left 2 !.param RIN=10 ;ohms
TEXT -208 928 Left 2 !.meas PARAM_R2_VALUE PARAM ((VOUT*100)-125)
TEXT -208 960 Left 2 !.meas PARAM_AC_RMS PARAM AC_RMS
TEXT -208 992 Left 2 !.meas PARAM_AC_PEAK PARAM AC_PEAK
TEXT -208 1024 Left 2 !.meas PARAM_VOUT PARAM VOUT
TEXT -208 1056 Left 2 !.meas PARAM_IOUT PARAM IOUT
TEXT -208 1088 Left 2 !.meas PARAM_RIN PARAM RIN
TEXT -208 1120 Left 2 !.meas U1_Pwr AVG V(ADJ)*Ix(U1:ADJ)+V(OUT)*Ix(U1:OUT)+V(IN)*Ix(U1:IN) FROM 0.9S TO 1S
TEXT -208 1152 Left 2 !.meas RIN_Pwr AVG V(PRE,IN)*I(RIN) FROM 0.9S TO 1S
TEXT -208 1184 Left 2 !.meas C1_Vpp PP V(IN) FROM 0.9S TO 1S
TEXT -208 1216 Left 2 !.meas C1_Ipp PP I(C1) FROM 0.9S TO 1S
TEXT -208 1248 Left 2 !.meas C1_Imax MAX I(C1)
TEXT -208 1280 Left 2 !.meas D1_Imax MAX I(D1)
TEXT -208 1408 Left 2 !.meas IN_VMIN MIN V(IN) FROM 0.9S TO 1S
TEXT -208 1440 Left 2 !.meas IN_VMAX MAX V(IN) FROM 0.9S TO 1S
TEXT -208 1472 Left 2 !.meas IN_Vpp PP V(IN) FROM 0.9S TO 1S
TEXT -208 1504 Left 2 !.meas IN_Vavg AVG V(IN) FROM 0.9S TO 1S
TEXT -208 1536 Left 2 !.meas OUT_Vavg AVG V(OUT) FROM 0.9S TO 1S
TEXT -208 1568 Left 2 !.meas OUT_Iavg AVG I(RL1) FROM 0.9S TO 1S
TEXT -208 1600 Left 2 !.meas DROPOUT_Vmin param {IN_VMIN - VOUT}
TEXT 1104 728 Left 2 ;Old Furnace transformer\nName plate 24V, 40VA\nFluke Measures 27.3V AC out\nScope measures 78.4V pk-pk = 39.2V pk = 27.5V RMS\n \nOld Alarm Transformer\nName plate 16.5VAC 35VA\nFluke Measures 19.0V AC out\nScope measures 54,4V pk-pk = 27.2V pk = 19.23V RMS
TEXT 1104 1024 Left 2 !.model 1N4007 d is = 1.43733E-008 n = 1.80829 rs = 0.0414712\n+ eg = 1.11 xti = 3 tnom = 27\n+ cjo = 2.8119E-011 vj = 0.700053 m = 0.346714 fc = 0.5\n+ tt = 4.10886E-006 bv = 1100 ibv = 10 af = 1 kf = 0
TEXT -208 1312 Left 2 !.meas D1_Ipp PP I(D1) FROM 0.9S TO 1S
TEXT -208 1376 Left 2 !.meas D1_Pwr AVG V(AC,PRE)*I(D1) FROM 0.9S TO 1S
TEXT -208 1344 Left 2 !.meas D1_Iavg AVG I(D1) FROM 0.9S TO 1S
TEXT -208 1632 Left 2 !.meas DROPOUT_Vavg PARAM {IN_VAVG - VOUT}
